<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Compras</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <style>
    body {
      background: #f6f8fa;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      font-family: 'Roboto', Arial, sans-serif;
    }
    .header {
      background: #105da8;
      color: #fff;
      display: flex;
      align-items: center;
      padding: 0.7rem 1.1rem 0.7rem 0.7rem;
      position: sticky;
      top: 0;
      z-index: 10;
    }
    .user-icon {
      width: 32px;
      height: 32px;
      margin-right: 0.7rem;
    }
    .header-title {
      font-size: 1.1rem;
      font-weight: 700;
      flex: 1;
    }
    .saludo {
      font-size: 1.1rem;
      font-weight: 600;
      color: #fff;
      margin-left: 1rem;
    }
    .carrefour-vertical {
      width: 110px;
      display: block;
      margin: 1.2rem auto 1.2rem auto;
    }
    .search-bar {
      display: flex;
      align-items: center;
      background: rgba(16,93,168,0.10);
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,33,87,0.08);
      padding: 0.5rem 1rem;
      margin: 0 auto 1.2rem auto;
      max-width: 420px;
      width: 92vw;
    }
    .search-bar input {
      border: none;
      outline: none;
      font-size: 1rem;
      flex: 1;
      background: transparent;
      color: #222;
      margin-left: 0.7rem;
    }
    .search-bar img {
      width: 22px;
      height: 22px;
    }
    .banner-compras {
      width: 100%;
      max-width: 420px;
      margin: 1.2rem auto 1.2rem auto;
      border-radius: 14px;
      box-shadow: 0 2px 8px rgba(0,33,87,0.08);
      display: block;
    }
    .productos-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 1.2rem;
      justify-content: center;
      margin: 2rem 0 2rem 0;
    }
    .producto {
      background: #fff;
      border-radius: 14px;
      box-shadow: 0 2px 8px rgba(0,33,87,0.08);
      padding: 1rem 1.2rem 1.2rem 1.2rem;
      text-align: center;
      width: 140px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .producto img {
      width: 70px;
      height: 70px;
      object-fit: contain;
      margin-bottom: 0.7rem;
    }
    .producto-nombre {
      font-size: 1rem;
      color: #105da8;
      font-weight: 700;
      margin-bottom: 0.3rem;
    }
    .producto-precio {
      color: #222;
      font-size: 1rem;
      margin-bottom: 0.7rem;
    }
    .add-cart-btn {
      background: #105da8;
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 0.6rem 0;
      width: 100%;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      margin-top: 0.5rem;
      transition: background 0.2s;
    }
    .add-cart-btn:hover {
      background: #003399;
    }
    .main-btn {
      background: #105da8;
      color: #fff;
      font-size: 1.08rem;
      font-weight: 600;
      border-radius: 8px;
      padding: 0.9rem 0;
      width: 100%;
      text-decoration: none;
      text-align: center;
      display: block;
      border: none;
      transition: background 0.2s;
      cursor: pointer;
      max-width: 420px;
      margin: 2rem auto 2rem auto;
    }
    .main-btn:hover {
      background: #003399;
    }
  </style>
</head>
<body>
  <div class="header">
    <img src="img/icono_usuario.png" class="user-icon" alt="Usuario" />
    <span class="header-title">Compras</span>
    <span class="saludo">Hola Laura</span>
  </div>
  <img src="img/carrefour_vertical.png" alt="Carrefour Vertical" class="carrefour-vertical" />
  <div class="search-bar">
    <img src="img/icono_lupa.png" alt="Buscar" />
    <input type="text" placeholder="Buscar productos..." />
  </div>
  <img src="img/banner_compras_Mesa de trabajo 1.png" alt="Banner Compras" class="banner-compras" />
  <div style="max-width:420px;margin:2rem auto 1.5rem auto;">
    <div style="font-weight:600;color:#105da8;margin-bottom:0.3rem;">Capacidad de casillero</div>
    <div style="background:#e6eaf3;border-radius:8px;overflow:hidden;height:22px;position:relative;">
      <div id="progreso-casillero" style="background:#105da8;height:100%;width:0%;transition:width 0.3s;"></div>
      <div id="progreso-texto" style="position:absolute;left:0;right:0;top:0;bottom:0;display:flex;align-items:center;justify-content:center;font-size:0.98rem;color:#fff;font-weight:600;">0L / 80L</div>
    </div>
    <div id="aviso-casillero" style="color:#e53935;font-size:0.97rem;margin-top:0.5rem;display:none;">¡Capacidad máxima alcanzada!</div>
  </div>
  <div style="margin:2.5rem 0 1.2rem 0;font-weight:700;color:#105da8;font-size:1.1rem;">Verduras</div>
  <div class="productos-grid">
    <div class="producto">
      <img src="img/lechuga__Mesa de trabajo 1.png" alt="Lechuga" style="width:120px;height:120px;" />
      <div class="producto-nombre">Lechuga</div>
      <div class="producto-precio">$420</div>
      <div class="cantidad-control" style="display:flex;align-items:center;justify-content:center;gap:0.5rem;margin:0.5rem 0;">
        <button class="menos-btn" style="background:#e6eaf3;color:#105da8;border:none;border-radius:50%;width:28px;height:28px;font-size:1.2rem;">-</button>
        <span class="cantidad" style="font-size:1.1rem;min-width:24px;display:inline-block;text-align:center;">1</span>
        <button class="mas-btn" style="background:#105da8;color:#fff;border:none;border-radius:50%;width:28px;height:28px;font-size:1.2rem;">+</button>
      </div>
      <button class="add-cart-btn" data-litros="2">Agregar</button>
    </div>
    <div class="producto">
      <img src="img/cebolla__Mesa de trabajo 1.png" alt="Cebolla" style="width:120px;height:120px;" />
      <div class="producto-nombre">Cebolla</div>
      <div class="producto-precio">$350</div>
      <div class="cantidad-control" style="display:flex;align-items:center;justify-content:center;gap:0.5rem;margin:0.5rem 0;">
        <button class="menos-btn" style="background:#e6eaf3;color:#105da8;border:none;border-radius:50%;width:28px;height:28px;font-size:1.2rem;">-</button>
        <span class="cantidad" style="font-size:1.1rem;min-width:24px;display:inline-block;text-align:center;">1</span>
        <button class="mas-btn" style="background:#105da8;color:#fff;border:none;border-radius:50%;width:28px;height:28px;font-size:1.2rem;">+</button>
      </div>
      <button class="add-cart-btn" data-litros="1">Agregar</button>
    </div>
  </div>
  <div style="margin:2.5rem 0 1.2rem 0;font-weight:700;color:#105da8;font-size:1.1rem;">Almacén</div>
  <div class="productos-grid">
    <div class="producto">
      <img src="img/fideos_1.png" alt="Fideos" />
      <div class="producto-nombre">Fideos</div>
      <div class="producto-precio">$500</div>
      <button class="add-cart-btn" data-litros="2">Agregar</button>
    </div>
    <div class="producto">
      <img src="img/coca_cola.png" alt="Coca Cola" />
      <div class="producto-nombre">Coca Cola</div>
      <div class="producto-precio">$600</div>
      <button class="add-cart-btn" data-litros="4">Agregar</button>
    </div>
    <div class="producto">
      <img src="img/crema_cocina.png" alt="Crema Cocina" />
      <div class="producto-nombre">Crema Cocina</div>
      <div class="producto-precio">$300</div>
      <button class="add-cart-btn" data-litros="2">Agregar</button>
    </div>
  </div>
  <div style="margin:2.5rem 0 1.2rem 0;font-weight:700;color:#105da8;font-size:1.1rem;">Lácteos</div>
  <div class="productos-grid">
    <div class="producto">
      <img src="img/queso_gouda.png" alt="Queso Gouda" style="width:110px;height:110px;" />
      <div class="producto-nombre">Queso Gouda</div>
      <div class="producto-precio">$1200</div>
      <div style="position:relative;display:inline-block;">
        <button class="add-cart-btn" data-litros="3">Agregar</button>
        <span style="position:absolute;top:-18px;right:-18px;background:#e53935;color:#fff;font-size:0.85rem;font-weight:700;padding:2px 7px;border-radius:10px;">20% OFF</span>
      </div>
    </div>
  </div>
  <a href="carrito.html" class="main-btn">Finalizar compra</a>
  <script>
    let litros = 0;
    const maxLitros = 80;
    const progreso = document.getElementById('progreso-casillero');
    const progresoTexto = document.getElementById('progreso-texto');
    const aviso = document.getElementById('aviso-casillero');
    document.querySelectorAll('.add-cart-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        const l = parseInt(this.getAttribute('data-litros'));
        if (litros + l <= maxLitros) {
          litros += l;
          aviso.style.display = 'none';
        } else {
          aviso.style.display = 'block';
        }
        const pct = Math.min(100, (litros / maxLitros) * 100);
        progreso.style.width = pct + '%';
        progresoTexto.textContent = litros + 'L / ' + maxLitros + 'L';
        if (pct < 60) {
          progreso.style.background = '#105da8';
        } else if (pct < 90) {
          progreso.style.background = '#fbc02d';
        } else {
          progreso.style.background = '#e53935';
        }
      });
    });
  </script>
</body>
</html>
